pipeline
{
	agent any
	
	options
	{
		skipDefaultCheckout()
	}

	stages
	{
		stage('Checkout Code')
		{
			steps
			{
				checkout scm
			}
		}

		stage('Build Code')
		{
			steps
			{
				sh 'cd maven-project && mvn clean package'
			}
		}

		stage('Test Code')
		{
			steps
			{
				sh 'cd maven-project && mvn test'
			}
		}
	}

	post
	{
		success
		{
			build job: 'airwolf-deploy-pipeline'
		}
	}
}